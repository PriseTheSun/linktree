<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Games - Meu Portfólio</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- CSS Personalizado -->
    <link rel="stylesheet" href="../style.css">

    <link rel="shortcut icon" href="../images/favicon.png" type="image/x-icon">
    <style>
        .game-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .game-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .star-rating i {
            color: #d1d5db;
        }

        .star-rating i.filled {
            color: #f59e0b;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s;
        }

        .pagination-btn {
            transition: all 0.2s ease;
        }

        .pagination-btn:hover:not(.disabled) {
            transform: translateY(-2px);
        }

        .pagination-btn.active {
            background: linear-gradient(to right, #4b5563, #1f2937);
            color: white;
        }

        .pagination-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .masterpiece-badge {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .masterpiece-badge::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% {
                transform: translateX(-100%) translateY(-100%) rotate(45deg);
            }

            100% {
                transform: translateX(100%) translateY(100%) rotate(45deg);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .masterpiece-card {
            border: 2px solid transparent;
            background: linear-gradient(white, white) padding-box,
                linear-gradient(135deg, #f59e0b, #d97706) border-box;
        }

        .masterpiece-glow {
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen">
    <!-- Botão Voltar -->
    <div class="fixed top-4 right-4 z-20">
        <a href="../index.html"
            class="flex items-center px-4 py-4 bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-[3em] shadow-lg hover:shadow-xl transition-all duration-300">
            <i class="fa-solid fa-house"></i>
        </a>
    </div>

    <!-- Conteúdo Principal -->
    <div class="container mx-auto px-4 py-12 max-w-6xl">
        <!-- Cabeçalho -->
        <header class="mb-12">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">Games</h1>
            <div class="h-1.5 w-32 bg-gradient-to-r from-gray-800 to-gray-900 rounded-full mb-6"></div>
            <p class="text-lg text-gray-700">Clique em qualquer jogo para ver detalhes e minha avaliação</p>
            <div class="mt-4 flex items-center text-gray-600">
                <i class="fas fa-gamepad mr-2"></i>
                <span id="game-count" class="font-medium">Total de 0 games</span>
                <span class="mx-2">•</span>
                <i class="fas fa-crown text-yellow-500 mr-2"></i>
                <span id="masterpiece-count" class="font-medium text-yellow-600">0 obras primas</span>
            </div>
        </header>

        <!-- Grid de Games -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-12" id="games-container">
            <!-- Games serão carregados via JavaScript -->
        </div>

        <!-- Controles de Paginação -->
        <div class="flex flex-col sm:flex-row items-center justify-between py-6 border-t border-gray-200">
            <!-- Informação da página -->
            <div class="mb-4 sm:mb-0 text-gray-700">
                Mostrando <span id="page-info" class="font-bold">1-8</span> de <span id="total-games"
                    class="font-bold">0</span> games
            </div>

            <!-- Navegação de Páginas -->
            <div class="flex items-center space-x-2">
                <!-- Botão Anterior -->
                <button id="prev-page"
                    class="pagination-btn flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled">
                    <i class="fas fa-chevron-left mr-2"></i>
                    <span>Anterior</span>
                </button>

                <!-- Números de Página -->
                <div id="page-numbers" class="flex space-x-1">
                    <!-- Páginas serão geradas dinamicamente -->
                </div>

                <!-- Botão Próximo -->
                <button id="next-page"
                    class="pagination-btn flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled">
                    <span>Próximo</span>
                    <i class="fas fa-chevron-right ml-2"></i>
                </button>
            </div>

            <!-- Seletor de Games por Página -->
            <div class="mt-4 sm:mt-0 flex items-center">
                <label for="games-per-page" class="mr-3 text-gray-700">Games por página:</label>
                <select id="games-per-page"
                    class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-800 focus:border-transparent">
                    <option value="4">4</option>
                    <option value="8" selected>8</option>
                    <option value="12">12</option>
                    <option value="16">16</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Modal de Detalhes -->
    <div id="game-modal" class="modal">
        <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-auto">
            <div class="p-8">
                <!-- Cabeçalho do Modal -->
                <div class="flex justify-between items-center mb-8">
                    <div class="flex items-center">
                        <h3 class="text-2xl font-bold text-gray-900">Detalhes do Jogo</h3>
                        <div id="modal-masterpiece-badge"
                            class="ml-4 masterpiece-badge px-3 py-1 rounded-full text-xs hidden">
                            <i class="fas fa-crown mr-1"></i> OBRA PRIMA
                        </div>
                    </div>
                    <button id="close-modal" class="text-gray-500 hover:text-gray-700 text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Conteúdo do Modal -->
                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- Imagem e Avaliação -->
                    <div class="lg:w-2/5">
                        <img id="modal-image" src="" alt="Capa do jogo"
                            class="w-full h-64 object-cover rounded-xl shadow-lg mb-6">

                        <div class="mb-6">
                            <h4 class="text-lg font-semibold text-gray-900 mb-3">Minha Avaliação</h4>
                            <div id="modal-rating" class="star-rating text-2xl mb-4"></div>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <p class="text-sm text-gray-600 mb-1">Gênero</p>
                                <span id="modal-genre"
                                    class="px-4 py-2 bg-gray-100 text-gray-800 rounded-lg text-sm font-medium block"></span>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 mb-1">Plataforma</p>
                                <span id="modal-platform"
                                    class="px-4 py-2 bg-gray-100 text-gray-800 rounded-lg text-sm font-medium block"></span>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600 mb-1">Ano de Lançamento</p>
                                <span id="modal-year"
                                    class="px-4 py-2 bg-gray-100 text-gray-800 rounded-lg text-sm font-medium block"></span>
                            </div>
                            <div id="modal-status-container" class="hidden">
                                <p class="text-sm text-gray-600 mb-1">Status</p>
                                <span id="modal-status"
                                    class="px-4 py-2 bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-800 rounded-lg text-sm font-medium block border border-yellow-200">
                                    <i class="fas fa-crown mr-2"></i>Obra Prima
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Descrição e Review -->
                    <div class="lg:w-3/5">
                        <h3 id="modal-title" class="text-2xl font-bold text-gray-900 mb-4"></h3>
                        <p id="modal-description" class="text-gray-700 mb-8"></p>

                        <div class="mb-8">
                            <h4 class="text-xl font-semibold text-gray-900 mb-4">Minhas Impressões</h4>
                            <p id="modal-review" class="text-gray-700 mb-6"></p>

                            <div>
                                <h5 class="text-lg font-semibold text-gray-900 mb-3">O que mais gostei</h5>
                                <ul id="modal-likes" class="text-gray-700 space-y-2"></ul>
                            </div>
                        </div>

                        <div class="pt-6 border-t border-gray-200">
                            <h4 class="text-xl font-semibold text-gray-900 mb-4">Recomendação</h4>
                            <p id="modal-recommendation" class="text-gray-700"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        // Dados dos games
        const games = [
            {
                id: 1,
                title: "The Legend of Zelda: Breath of the Wild",
                description: "Um marco para jogos de mundo aberto, oferecendo liberdade sem precedentes para explorar o reino de Hyrule. A física interativa e os sistemas ambientais criam uma experiência única a cada jogada.",
                review: "A liberdade oferecida ao jogador é revolucionária. Pode-se escalar quase qualquer superfície, e as interações com o ambiente são surpreendentemente profundas. A sensação de descoberta é constante.",
                likes: [
                    "Liberdade de exploração total",
                    "Sistemas de física interconectados",
                    "Quebra-cabeças criativos",
                    "Arte visual impressionante",
                    "Trilha sonora atmosférica"
                ],
                recommendation: "Recomendado para quem valoriza exploração e descoberta. A abordagem não-linear pode ser intimidante no início, mas a recompensa é uma das experiências mais imersivas em jogos.",
                genre: "Ação/Aventura",
                platform: "Nintendo Switch",
                year: "2017",
                rating: 5,
                masterpiece: true,
                image: "../images/cover_zelda_bow.avif"
            },
            {
                id: 2,
                title: "The Legend of Zelda: Tears of the Kingdom",
                description: "Sequência direta de Breath of the Wild, expandindo radicalmente o mundo de Hyrule com as novas mecânicas de Ultracria e Fusão, que permitem criar veículos, armas e soluções de forma livre.",
                review: "A liberdade criativa é absoluta e redefine o que é possível em um mundo aberto. A exploração vertical nas ilhas flutuantes e nas profundezas sombrias adiciona camadas surpreendentes a um mapa já vasto. A narrativa é épica e emocionante.",
                likes: [
                    "Liberdade criativa quase ilimitada com Ultracriação/Fusão",
                    "Expansão vertical massiva do mundo (céu, superfície, profundezas)",
                    "Sensação constante de descoberta e aventura",
                    "Quebra-cabeças físicos engenhosos e abertos",
                    "História cativante que aprofunda o lore de Hyrule"
                ],
                recommendation: "Uma obra-prima essencial que supera o já revolucionário predecessor. Perfeito para quem valoriza exploração pura, criatividade e a emoção de descobrir o desconhecido em um mundo vasto e detalhado.",
                genre: "Aventura/Ação",
                platform: "Nintendo Switch",
                year: "2023",
                rating: 5,
                masterpiece: true,
                image: "../images/cover_zelda_tok.avif"
            },
            {
                id: 3,
                title: "Divinity: Original Sin 2",
                description: "RPG tático e profundo com um sistema de combate baseado em turnos, mundo aberto repleto de escolhas significativas e uma narrativa imersiva que reage às decisões do jogador.",
                review: "A liberdade de abordagem é inigualável, permitindo resolver situações de inúmeras formas criativas. A escrita é excepcional, os personagens são complexos e o combate tático é desafiador e gratificante.",
                likes: [
                    "Liberdade e consequência reais nas escolhas",
                    "Sistema de combate tático profundo",
                    "Escrita e desenvolvimento de personagens excepcionais",
                    "Mundo aberto rico e detalhado",
                    "Excelente modo cooperativo para até 4 jogadores"
                ],
                recommendation: "Um marco obrigatório para fãs de RPGs clássicos e táticos. Oferece uma das experiências mais imersivas e recompensadoras do gênero, especialmente em cooperação.",
                genre: "RPG Tático",
                platform: "PC/PS4/Xbox One/Nintendo Switch",
                year: "2016",
                rating: 5,
                masterpiece: true,
                image: "../images/cover_divinity_original_sin_II.avif"
            },
            {
                id: 4,
                title: "Hollow Knight",
                description: "Metroidvania com arte hand-drawn que se passa em Hallownest, um reino subterrâneo em ruínas repleto de criaturas, segredos e desafios.",
                review: "A atmosfera melancólica e o design de som imersivo criam um mundo que parece vivo. A dificuldade é significativa, mas a sensação de superação ao derrotar um chefe é extremamente satisfatória.",
                likes: [
                    "Arte hand-drawn deslumbrante",
                    "Exploração recompensadora",
                    "Combate desafiador mas justo",
                    "Atmosfera imersiva",
                    "Trilha sonora memorável"
                ],
                recommendation: "Ideal para fãs de desafios e exploração. A curva de aprendizado é íngreme, mas o sentimento de progressão é muito gratificante.",
                genre: "Metroidvania",
                platform: "PC/Switch/PS4/Xbox One",
                year: "2017",
                rating: 4,
                masterpiece: false,
                image: "../images/cover_hollow_knight.avif"
            },
            {
                id: 5,
                title: "The Witcher 3: Wild Hunt",
                description: "RPG de mundo aberto onde você controla Geralt de Rivia, um caçador de monstros, em sua busca por sua filha adotiva.",
                review: "O mundo é rico e vivo, com histórias secundárias que rivalizam com a trama principal. As escolhas têm consequências reais e a imersão é total.",
                likes: [
                    "Mundo aberto detalhado e vivo",
                    "Histórias secundárias de alta qualidade",
                    "Sistema de combate tático",
                    "Personagens complexos e bem desenvolvidos",
                    "Expansões excepcionais"
                ],
                recommendation: "Para quem busca uma narrativa profunda em um mundo rico. A quantidade de conteúdo pode ser intimidante, mas a qualidade é consistente.",
                genre: "RPG/Ação",
                platform: "PC/PS4/PS5/Xbox One/Xbox Series/Switch",
                year: "2015",
                rating: 5,
                masterpiece: true,
                image: "../images/cover_the_witcher_III.avif"
            },
        ];

        // Variáveis de estado da paginação
        let currentPage = 1;
        let gamesPerPage = 8;
        let totalPages = Math.ceil(games.length / gamesPerPage);

        // Função para contar obras primas
        function countMasterpieces() {
            return games.filter(game => game.masterpiece).length;
        }

        // Função para criar estrelas
        function createStars(rating) {
            let starsHtml = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= rating) {
                    starsHtml += '<i class="fas fa-star filled"></i>';
                } else {
                    starsHtml += '<i class="far fa-star"></i>';
                }
            }
            return starsHtml;
        }

        // Função para atualizar as informações da página
        function updatePageInfo() {
            const startIndex = (currentPage - 1) * gamesPerPage + 1;
            const endIndex = Math.min(currentPage * gamesPerPage, games.length);

            $('#page-info').text(`${startIndex}-${endIndex}`);
            $('#total-games').text(games.length);
            $('#game-count').text(`Total de ${games.length} games`);
            $('#masterpiece-count').text(`${countMasterpieces()} obras primas`);
        }

        // Função para atualizar os controles de paginação
        function updatePaginationControls() {
            const pageNumbersContainer = $('#page-numbers');
            pageNumbersContainer.empty();

            // Calcular quais números de página mostrar
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, currentPage + 2);

            // Ajustar para mostrar sempre 5 páginas quando possível
            if (endPage - startPage < 4) {
                if (startPage === 1) {
                    endPage = Math.min(totalPages, startPage + 4);
                } else if (endPage === totalPages) {
                    startPage = Math.max(1, endPage - 4);
                }
            }

            // Adicionar botão para primeira página se necessário
            if (startPage > 1) {
                pageNumbersContainer.append(`
                    <button class="pagination-btn px-3 py-2 rounded-lg hover:bg-gray-200" data-page="1">1</button>
                    ${startPage > 2 ? '<span class="px-2">...</span>' : ''}
                `);
            }

            // Adicionar números das páginas
            for (let i = startPage; i <= endPage; i++) {
                pageNumbersContainer.append(`
                    <button class="pagination-btn px-3 py-2 rounded-lg ${i === currentPage ? 'active' : 'hover:bg-gray-200'}" data-page="${i}">${i}</button>
                `);
            }

            // Adicionar botão para última página se necessário
            if (endPage < totalPages) {
                pageNumbersContainer.append(`
                    ${endPage < totalPages - 1 ? '<span class="px-2">...</span>' : ''}
                    <button class="pagination-btn px-3 py-2 rounded-lg hover:bg-gray-200" data-page="${totalPages}">${totalPages}</button>
                `);
            }

            // Atualizar estado dos botões de navegação
            $('#prev-page').toggleClass('disabled', currentPage === 1);
            $('#next-page').toggleClass('disabled', currentPage === totalPages);

            // Atualizar o seletor de games por página
            $('#games-per-page').val(gamesPerPage);
        }

        // Função para carregar os games da página atual
        function loadCurrentPageGames() {
            const container = $('#games-container');
            container.empty();

            // Calcular índices dos games a mostrar
            const startIndex = (currentPage - 1) * gamesPerPage;
            const endIndex = Math.min(startIndex + gamesPerPage, games.length);
            const gamesToShow = games.slice(startIndex, endIndex);

            // Adicionar cards dos games
            gamesToShow.forEach(game => {
                const isMasterpiece = game.masterpiece || false;
                const masterpieceClass = isMasterpiece ? 'masterpiece-card masterpiece-glow' : '';
                const masterpieceBadge = isMasterpiece ? `
                    <div class="absolute top-3 left-3 masterpiece-badge px-2 py-1 rounded-md text-xs z-10">
                        <i class="fas fa-crown mr-1"></i>OBRA PRIMA
                    </div>
                ` : '';

                const gameHtml = `
                    <div class="game-card bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden relative ${masterpieceClass}" data-id="${game.id}">
                        ${masterpieceBadge}
                        <div class="h-48 overflow-hidden">
                            <img src="${game.image}" alt="${game.title}" class="w-full h-full object-cover hover:scale-105 transition-transform duration-500">
                        </div>
                        <div class="p-5">
                            <h3 class="font-bold text-gray-900 mb-2 text-sm truncate">${game.title}</h3>
                            <div class="mb-3 flex flex-wrap gap-1">
                                <span class="text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded">${game.platform}</span>
                                <span class="text-xs text-gray-600 bg-blue-100 px-2 py-1 rounded">${game.genre}</span>
                                ${isMasterpiece ? '<span class="text-xs text-yellow-700 bg-yellow-100 px-2 py-1 rounded"><i class="fas fa-crown mr-1"></i>Obra Prima</span>' : ''}
                            </div>
                            <div class="star-rating text-yellow-500">
                                ${createStars(game.rating)}
                            </div>
                            <div class="mt-3 text-xs text-gray-500">
                                <i class="far fa-calendar mr-1"></i> ${game.year}
                            </div>
                        </div>
                    </div>
                `;
                container.append(gameHtml);
            });

            // Atualizar informações da página
            updatePageInfo();
            updatePaginationControls();

            // Configurar eventos de clique nos cards
            setupGameCardEvents();
        }

        // Função para configurar eventos nos cards dos games
        function setupGameCardEvents() {
            $('.game-card').on('click', function () {
                const gameId = $(this).data('id');
                const game = games.find(g => g.id === gameId);

                if (game) {
                    // Preencher modal
                    $('#modal-title').text(game.title);
                    $('#modal-description').text(game.description);
                    $('#modal-review').text(game.review);
                    $('#modal-recommendation').text(game.recommendation);
                    $('#modal-genre').text(game.genre);
                    $('#modal-platform').text(game.platform);
                    $('#modal-year').text(game.year);
                    $('#modal-rating').html(createStars(game.rating));
                    $('#modal-image').attr('src', game.image);

                    // Mostrar ou esconder badge de obra prima
                    if (game.masterpiece) {
                        $('#modal-masterpiece-badge').removeClass('hidden');
                        $('#modal-status-container').removeClass('hidden');
                    } else {
                        $('#modal-masterpiece-badge').addClass('hidden');
                        $('#modal-status-container').addClass('hidden');
                    }

                    // Preencher likes
                    const likesContainer = $('#modal-likes');
                    likesContainer.empty();
                    game.likes.forEach(like => {
                        likesContainer.append(`
                            <li class="flex items-start">
                                <i class="fas fa-check text-green-500 mt-1 mr-3"></i>
                                <span>${like}</span>
                            </li>
                        `);
                    });

                    // Mostrar modal
                    $('#game-modal').addClass('active');
                }
            });
        }

        // Função para mudar de página
        function goToPage(page) {
            if (page < 1 || page > totalPages) return;

            currentPage = page;
            loadCurrentPageGames();

            // Rolar para o topo da seção de games
            $('html, body').animate({
                scrollTop: $('.container').offset().top - 100
            }, 300);
        }

        // Inicializar quando carregar
        $(document).ready(function () {
            // Calcular total de páginas
            totalPages = Math.ceil(games.length / gamesPerPage);

            // Carregar primeira página
            loadCurrentPageGames();

            // Configurar eventos de paginação
            $('#prev-page').on('click', function () {
                if (!$(this).hasClass('disabled')) {
                    goToPage(currentPage - 1);
                }
            });

            $('#next-page').on('click', function () {
                if (!$(this).hasClass('disabled')) {
                    goToPage(currentPage + 1);
                }
            });

            // Configurar evento para clicar nos números de página
            $(document).on('click', '.pagination-btn[data-page]', function () {
                const page = parseInt($(this).data('page'));
                goToPage(page);
            });

            // Configurar evento para mudar quantidade de games por página
            $('#games-per-page').on('change', function () {
                gamesPerPage = parseInt($(this).val());
                currentPage = 1;
                totalPages = Math.ceil(games.length / gamesPerPage);
                loadCurrentPageGames();
            });

            // Fechar modal
            $('#close-modal').on('click', function () {
                $('#game-modal').removeClass('active');
            });

            // Fechar modal ao clicar fora
            $('#game-modal').on('click', function (e) {
                if (e.target === this) {
                    $(this).removeClass('active');
                }
            });

            // Fechar modal com tecla ESC
            $(document).on('keydown', function (e) {
                if (e.key === 'Escape') {
                    $('#game-modal').removeClass('active');
                }
            });
        });
    </script>
</body>

</html>